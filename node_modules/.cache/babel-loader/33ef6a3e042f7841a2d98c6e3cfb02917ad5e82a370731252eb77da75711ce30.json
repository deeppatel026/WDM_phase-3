{"ast":null,"code":"import _regeneratorRuntime from\"/Users/deeppatel/Desktop/deep/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/deeppatel/Desktop/deep/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/deeppatel/Desktop/deep/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./styles.css';import{Link,useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var history=useHistory();var handleFormSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(!username||!password)){_context.next=4;break;}setError('Please fill in both username and password fields.');return _context.abrupt(\"return\");case 4:setLoading(true);setError('');_context.prev=6;_context.next=9;return fetch('https://gxk1906.uta.cloud/php/login.php',{// Use relative URL\nmethod:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:username,password:password})});case 9:response=_context.sent;if(response.ok){_context.next=12;break;}throw new Error('Network response was not ok');case 12:_context.next=14;return response.json();case 14:data=_context.sent;if(!(data.status===0)){_context.next=32;break;}_context.t0=data.user.role;_context.next=_context.t0==='role1'?19:_context.t0==='role2'?21:_context.t0==='role3'?23:_context.t0==='role4'?25:_context.t0==='role5'?27:29;break;case 19:history.push('/StudentDashboard');return _context.abrupt(\"break\",30);case 21:history.push('/AdminDashboard');return _context.abrupt(\"break\",30);case 23:history.push('/QADashboard');return _context.abrupt(\"break\",30);case 25:history.push('/InstructorDashboard');return _context.abrupt(\"break\",30);case 27:history.push('/ProgramCoordinatorDashboard');return _context.abrupt(\"break\",30);case 29:history.push('/login');case 30:_context.next=33;break;case 32:setError(data.message);case 33:_context.next=38;break;case 35:_context.prev=35;_context.t1=_context[\"catch\"](6);setError('An error occurred: '+_context.t1.message);case 38:_context.prev=38;setLoading(false);return _context.finish(38);case 41:case\"end\":return _context.stop();}},_callee,null,[[6,35,38,41]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"MS in DS Academic Program\"})}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/about\",children:\"About\"}),/*#__PURE__*/_jsx(Link,{to:\"/Blog\",children:\"Blog\"}),/*#__PURE__*/_jsx(Link,{to:\"/ContactUs\",children:\"Contact Us\"}),/*#__PURE__*/_jsx(Link,{to:\"/services\",children:\"Services\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Logout\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"login-heading\",children:\"LOGIN\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",required:true,value:username,onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",required:true,value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{className:\"forgot-password-link\",children:/*#__PURE__*/_jsx(Link,{to:\"/ForgotPassword\",children:\"Forgot Password?\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"login-button\",type:\"submit\",disabled:loading,children:loading?'Logging In...':'LOGIN'})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"If you don't have an account, sign up here\"}),/*#__PURE__*/_jsx(Link,{to:\"/Signup\",children:/*#__PURE__*/_jsx(\"button\",{className:\"signup-button\",children:\"SIGN UP\"})})]})]})})]});}export default Login;","map":{"version":3,"names":["React","useState","Link","useHistory","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","_useState5","_useState6","loading","setLoading","_useState7","_useState8","error","setError","history","handleFormSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","data","wrap","_callee$","_context","prev","next","preventDefault","abrupt","fetch","method","headers","body","JSON","stringify","sent","ok","Error","json","status","t0","user","role","push","message","t1","finish","stop","_x","apply","arguments","children","to","className","onSubmit","htmlFor","type","id","name","required","value","onChange","target","disabled"],"sources":["/Users/deeppatel/Desktop/deep/src/components/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport './styles.css';\nimport { Link, useHistory } from 'react-router-dom';\n\nfunction Login() {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const history = useHistory();\n\n  const handleFormSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!username || !password) {\n      setError('Please fill in both username and password fields.');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      const response = await fetch('https://gxk1906.uta.cloud/php/login.php', { // Use relative URL\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ username, password }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n\n      const data = await response.json();\n\n      if (data.status === 0) {\n        // Redirect to a page based on the user's role\n        switch (data.user.role) {\n          case 'role1':\n            history.push('/StudentDashboard');\n            break;\n          case 'role2':\n            history.push('/AdminDashboard');\n            break;\n          case 'role3':\n            history.push('/QADashboard');\n            break;\n          case 'role4':\n            history.push('/InstructorDashboard');\n            break;\n          case 'role5':\n            history.push('/ProgramCoordinatorDashboard');\n            break;\n          default:\n            history.push('/login');\n        }\n      } else {\n        setError(data.message);\n      }\n    } catch (error) {\n      setError('An error occurred: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <header>\n        <h1>MS in DS Academic Program</h1>\n      </header>\n      <nav>\n        <Link to=\"/\">Home</Link>\n        <Link to=\"/about\">About</Link>\n        <Link to=\"/Blog\">Blog</Link>\n        <Link to=\"/ContactUs\">Contact Us</Link>\n        <Link to=\"/services\">Services</Link>\n        <Link to=\"/\">Logout</Link>\n      </nav>\n      <div className=\"container\">\n        <div className=\"content\">\n          <div className=\"login-form\">\n            <h2 className=\"login-heading\">LOGIN</h2>\n            {error && <div className=\"error-message\">{error}</div>}\n            <form onSubmit={handleFormSubmit}>\n              <label htmlFor=\"username\">Username:</label>\n              <input\n                type=\"text\"\n                id=\"username\"\n                name=\"username\"\n                required\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n              />\n\n              <label htmlFor=\"password\">Password:</label>\n              <input\n                type=\"password\"\n                id=\"password\"\n                name=\"password\"\n                required\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n              />\n\n              <p className=\"forgot-password-link\">\n                <Link to=\"/ForgotPassword\">Forgot Password?</Link>\n              </p>\n\n              <button className=\"login-button\" type=\"submit\" disabled={loading}>\n                {loading ? 'Logging In...' : 'LOGIN'}\n              </button>\n            </form>\n          </div>\n          <div>\n            <p>If you don't have an account, sign up here</p>\n            <Link to=\"/Signup\">\n              <button className=\"signup-button\">SIGN UP</button>\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"yWAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,cAAc,CACrB,OAASC,IAAI,CAAEC,UAAU,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpD,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACf,IAAAC,SAAA,CAAgCR,QAAQ,CAAC,EAAE,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAAgCb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAA8BjB,QAAQ,CAAC,KAAK,CAAC,CAAAkB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAtCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAC1B,IAAAG,UAAA,CAA0BrB,QAAQ,CAAC,EAAE,CAAC,CAAAsB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,GAAM,CAAAG,OAAO,CAAGvB,UAAU,CAAC,CAAC,CAE5B,GAAM,CAAAwB,gBAAgB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,CAAC,MAAAC,QAAA,CAAAC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC/BP,CAAC,CAACQ,cAAc,CAAC,CAAC,CAAC,KAEf,CAAC7B,QAAQ,EAAI,CAACI,QAAQ,GAAAsB,QAAA,CAAAE,IAAA,UACxBf,QAAQ,CAAC,mDAAmD,CAAC,CAAC,OAAAa,QAAA,CAAAI,MAAA,kBAIhErB,UAAU,CAAC,IAAI,CAAC,CAChBI,QAAQ,CAAC,EAAE,CAAC,CAACa,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGY,CAAAG,KAAK,CAAC,yCAAyC,CAAE,CAAE;AACxEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEpC,QAAQ,CAARA,QAAQ,CAAEI,QAAQ,CAARA,QAAS,CAAC,CAC7C,CAAC,CAAC,QANIkB,QAAQ,CAAAI,QAAA,CAAAW,IAAA,IAQTf,QAAQ,CAACgB,EAAE,EAAAZ,QAAA,CAAAE,IAAA,gBACR,IAAI,CAAAW,KAAK,CAAC,6BAA6B,CAAC,SAAAb,QAAA,CAAAE,IAAA,UAG7B,CAAAN,QAAQ,CAACkB,IAAI,CAAC,CAAC,SAA5BjB,IAAI,CAAAG,QAAA,CAAAW,IAAA,MAENd,IAAI,CAACkB,MAAM,GAAK,CAAC,GAAAf,QAAA,CAAAE,IAAA,WAAAF,QAAA,CAAAgB,EAAA,CAEXnB,IAAI,CAACoB,IAAI,CAACC,IAAI,CAAAlB,QAAA,CAAAE,IAAA,CAAAF,QAAA,CAAAgB,EAAA,GACf,OAAO,IAAAhB,QAAA,CAAAgB,EAAA,GAGP,OAAO,IAAAhB,QAAA,CAAAgB,EAAA,GAGP,OAAO,IAAAhB,QAAA,CAAAgB,EAAA,GAGP,OAAO,IAAAhB,QAAA,CAAAgB,EAAA,GAGP,OAAO,qBAXV5B,OAAO,CAAC+B,IAAI,CAAC,mBAAmB,CAAC,CAAC,OAAAnB,QAAA,CAAAI,MAAA,qBAGlChB,OAAO,CAAC+B,IAAI,CAAC,iBAAiB,CAAC,CAAC,OAAAnB,QAAA,CAAAI,MAAA,qBAGhChB,OAAO,CAAC+B,IAAI,CAAC,cAAc,CAAC,CAAC,OAAAnB,QAAA,CAAAI,MAAA,qBAG7BhB,OAAO,CAAC+B,IAAI,CAAC,sBAAsB,CAAC,CAAC,OAAAnB,QAAA,CAAAI,MAAA,qBAGrChB,OAAO,CAAC+B,IAAI,CAAC,8BAA8B,CAAC,CAAC,OAAAnB,QAAA,CAAAI,MAAA,qBAG7ChB,OAAO,CAAC+B,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAAnB,QAAA,CAAAE,IAAA,kBAG3Bf,QAAQ,CAACU,IAAI,CAACuB,OAAO,CAAC,CAAC,QAAApB,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAqB,EAAA,CAAArB,QAAA,aAGzBb,QAAQ,CAAC,qBAAqB,CAAGa,QAAA,CAAAqB,EAAA,CAAMD,OAAO,CAAC,CAAC,QAAApB,QAAA,CAAAC,IAAA,IAEhDlB,UAAU,CAAC,KAAK,CAAC,CAAC,OAAAiB,QAAA,CAAAsB,MAAA,8BAAAtB,QAAA,CAAAuB,IAAA,MAAA7B,OAAA,uBAErB,kBAvDK,CAAAL,gBAAgBA,CAAAmC,EAAA,SAAAlC,IAAA,CAAAmC,KAAA,MAAAC,SAAA,OAuDrB,CAED,mBACEzD,KAAA,QAAA0D,QAAA,eACE5D,IAAA,WAAA4D,QAAA,cACE5D,IAAA,OAAA4D,QAAA,CAAI,2BAAyB,CAAI,CAAC,CAC5B,CAAC,cACT1D,KAAA,QAAA0D,QAAA,eACE5D,IAAA,CAACH,IAAI,EAACgE,EAAE,CAAC,GAAG,CAAAD,QAAA,CAAC,MAAI,CAAM,CAAC,cACxB5D,IAAA,CAACH,IAAI,EAACgE,EAAE,CAAC,QAAQ,CAAAD,QAAA,CAAC,OAAK,CAAM,CAAC,cAC9B5D,IAAA,CAACH,IAAI,EAACgE,EAAE,CAAC,OAAO,CAAAD,QAAA,CAAC,MAAI,CAAM,CAAC,cAC5B5D,IAAA,CAACH,IAAI,EAACgE,EAAE,CAAC,YAAY,CAAAD,QAAA,CAAC,YAAU,CAAM,CAAC,cACvC5D,IAAA,CAACH,IAAI,EAACgE,EAAE,CAAC,WAAW,CAAAD,QAAA,CAAC,UAAQ,CAAM,CAAC,cACpC5D,IAAA,CAACH,IAAI,EAACgE,EAAE,CAAC,GAAG,CAAAD,QAAA,CAAC,QAAM,CAAM,CAAC,EACvB,CAAC,cACN5D,IAAA,QAAK8D,SAAS,CAAC,WAAW,CAAAF,QAAA,cACxB1D,KAAA,QAAK4D,SAAS,CAAC,SAAS,CAAAF,QAAA,eACtB1D,KAAA,QAAK4D,SAAS,CAAC,YAAY,CAAAF,QAAA,eACzB5D,IAAA,OAAI8D,SAAS,CAAC,eAAe,CAAAF,QAAA,CAAC,OAAK,CAAI,CAAC,CACvCzC,KAAK,eAAInB,IAAA,QAAK8D,SAAS,CAAC,eAAe,CAAAF,QAAA,CAAEzC,KAAK,CAAM,CAAC,cACtDjB,KAAA,SAAM6D,QAAQ,CAAEzC,gBAAiB,CAAAsC,QAAA,eAC/B5D,IAAA,UAAOgE,OAAO,CAAC,UAAU,CAAAJ,QAAA,CAAC,WAAS,CAAO,CAAC,cAC3C5D,IAAA,UACEiE,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,UAAU,CACbC,IAAI,CAAC,UAAU,CACfC,QAAQ,MACRC,KAAK,CAAE9D,QAAS,CAChB+D,QAAQ,CAAE,SAAAA,SAAC1C,CAAC,QAAK,CAAApB,WAAW,CAACoB,CAAC,CAAC2C,MAAM,CAACF,KAAK,CAAC,EAAC,CAC9C,CAAC,cAEFrE,IAAA,UAAOgE,OAAO,CAAC,UAAU,CAAAJ,QAAA,CAAC,WAAS,CAAO,CAAC,cAC3C5D,IAAA,UACEiE,IAAI,CAAC,UAAU,CACfC,EAAE,CAAC,UAAU,CACbC,IAAI,CAAC,UAAU,CACfC,QAAQ,MACRC,KAAK,CAAE1D,QAAS,CAChB2D,QAAQ,CAAE,SAAAA,SAAC1C,CAAC,QAAK,CAAAhB,WAAW,CAACgB,CAAC,CAAC2C,MAAM,CAACF,KAAK,CAAC,EAAC,CAC9C,CAAC,cAEFrE,IAAA,MAAG8D,SAAS,CAAC,sBAAsB,CAAAF,QAAA,cACjC5D,IAAA,CAACH,IAAI,EAACgE,EAAE,CAAC,iBAAiB,CAAAD,QAAA,CAAC,kBAAgB,CAAM,CAAC,CACjD,CAAC,cAEJ5D,IAAA,WAAQ8D,SAAS,CAAC,cAAc,CAACG,IAAI,CAAC,QAAQ,CAACO,QAAQ,CAAEzD,OAAQ,CAAA6C,QAAA,CAC9D7C,OAAO,CAAG,eAAe,CAAG,OAAO,CAC9B,CAAC,EACL,CAAC,EACJ,CAAC,cACNb,KAAA,QAAA0D,QAAA,eACE5D,IAAA,MAAA4D,QAAA,CAAG,4CAA0C,CAAG,CAAC,cACjD5D,IAAA,CAACH,IAAI,EAACgE,EAAE,CAAC,SAAS,CAAAD,QAAA,cAChB5D,IAAA,WAAQ8D,SAAS,CAAC,eAAe,CAAAF,QAAA,CAAC,SAAO,CAAQ,CAAC,CAC9C,CAAC,EACJ,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAzD,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}